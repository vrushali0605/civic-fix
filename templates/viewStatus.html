<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CivicFix | Complaint Status</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #cce7ff, #e0f7ff); padding: 40px; color: #1e2a38; }
        h1 { text-align: center; color: #2a4469; margin-bottom: 30px; }
        table { 
            width: 100%; 
            border-collapse: collapse; 
            background: white; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.05); 
        }
        th, td { 
            padding: 12px; 
            border-bottom: 1px solid #ddd; 
            text-align: left; 
        }
        th { background-color: #2a4469; color: white; }
        tr:hover { background-color: #f1f5fb; transition: 0.3s; }

        /* Status colors */
        .status { font-weight: bold; padding: 6px 10px; border-radius: 5px; display: inline-block; }
        .Submitted { background: #d0e6ff; color: #1e2a38; }
        .Handled { background: #ffe9b3; color: #7a4d00; }
        .Process { background: #fff3cd; color: #856404; }
        .Resolved { background: #d4edda; color: #155724; }
        .Unresolved { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>Complaint Status</h1>
    <table>
        <thead>
            <tr>
                <th>Subject</th>
                <th>Description</th>
                <th>Status</th>
                <th>Updated On</th>
            </tr>
        </thead>
        <tbody>
            {% for row in statuses %}
            <tr>
                <td>{{ row['subject'] }}</td>
                <td>{{ row['description'] }}</td>
                <td><span class="status {{ row['status'] | replace(' ', '') }}">{{ row['status'] }}</span></td>
                <td>{{ row['timestamp'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>